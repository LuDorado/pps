<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" type="text/css" href="http://jsxgraph.uni-bayreuth.de/distrib/jsxgraph.css" />
		<script type="text/javascript" src="http://jsxgraph.uni-bayreuth.de/distrib/jsxgraphcore.js"></script>
	</head>

	<body>
		<div id="jxgbox" class="jxgbox" style="width:500px; height:500px;"></div>
		<script type="text/javascript">
			var board = JXG.JSXGraph.initBoard('jxgbox', {boundingbox: [-10, 10, 10, -10], axis:true, showCopyright:false});
			var p = board.create('point',[-3,-5], {name:'P',size:4, color:'violet'});

			<!--var b = JXG.JSXGraph.initBoard('jxgbox', {boundingbox: [-x, y, x, -y]});-->
			var p1 = board.create('point',[-6,7], {name:'A',size:4,color:'green'});
			var p2 = board.create('point',[7,-5], {name:'B',size:4,color:'green'});
			var li2 = board.create('line',[p1,p2], {straightFirst:false, straightLast:false, strokeWidth:2});

			//var li1 = board.create('line',[p2-p1,p], {straightFirst:false, straightLast:false, strokeWidth:2});
			function m(x,y)
			{ return Math.sqrt(x*x+y*y)  }

			function s(x,y,c)
			{ return Math.abs(x+y+c)   }

			var f = board.create('functiongraph', function calcular() {
				var p1x =p1.X(),
				    p1y = p1.Y(),
				    p2x = p2.X(),
					p2y = p2.Y(),
					px = p.X(),
					py = p.Y(),
				c =(((p2x*p1y/p1.x)- p2y)/(p2x/p1x-1));
				b = -1;
				a= (p1.y-c)/p1.x;
				mx= a*px ;
				my=b*py;
				document.getElementById('dpr').value= (s(mx,my,c)/m(a,b));
				//document.datos.dpr.value= s(mx,my,0)/m(a,b);
			}, {fixed: false});

		</script>
		<div>
			<button id="calculo" onclick="calcular()">Calcular distancia</button>
			<h1>Distancia pto P a r= </h1><label for="dpr"></label><input type="number" id="dpr">
		</div>

	</body>
</html>

